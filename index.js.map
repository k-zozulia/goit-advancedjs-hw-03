{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '49492514-812d245cc52e4f29e485c4df0';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst REQUEST_PARAMS = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n};\n\nfunction handleError(message) {\n  iziToast.show({\n    message,\n    position: 'topRight',\n    timeout: 7000,\n    backgroundColor: '#EF4040',\n    messageColor: '#FAFAFB',\n    iconUrl: './img/icons/close.svg',\n    closeOnEscape: true,\n    closeOnClick: true,\n    maxWidth: '432px',\n  });\n}\n\nfunction fetchImagesFromAPI(searchQuery) {\n  const loadingIndicator = document.getElementById('loader');\n  loadingIndicator.style.display = 'flex';\n\n  return axios\n    .get(BASE_URL, {\n      params: { ...REQUEST_PARAMS, q: searchQuery },\n    })\n    .then(response => response.data)\n    .catch(() => handleError('Failed to fetch images'))\n    .finally(() => {\n      loadingIndicator.style.display = 'none';\n    });\n}\n\nexport { fetchImagesFromAPI, handleError };\n","import { handleError } from './pixabay-api.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightboxInstance = null;\n\nfunction renderImages({ total, hits }) {\n  const galleryContainer = document.getElementById('gallery');\n  galleryContainer.innerHTML = '';\n\n  if (total === 0) {\n    handleError('Sorry, there are no images matching your search query. Please try again!');\n    return;\n  }\n\n  hits.forEach(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }, index) => {\n    const imageStats = [\n      { title: 'Likes', value: likes },\n      { title: 'Views', value: views },\n      { title: 'Comments', value: comments },\n      { title: 'Downloads', value: downloads },\n    ];\n\n    const imageInfoHTML = imageStats\n      .map(({ title, value }) => `\n        <div class=\"info-block\">\n          <span class=\"info-title\">${title}</span>\n          <span class=\"info-value\">${value}</span>\n        </div>\n      `)\n      .join('');\n\n    const imageItem = document.createElement('li');\n    imageItem.classList.add('gallery-item');\n\n    imageItem.innerHTML = `\n      <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <div class=\"image-wrapper\">\n          <img\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            class=\"gallery-image hidden\"\n          />\n        </div>\n      </a>\n      <div class=\"gallery-info\">\n        ${imageInfoHTML}\n      </div>\n    `;\n\n    const imgElement = imageItem.querySelector('.gallery-image');\n\n    imgElement.onload = () => {\n      imgElement.classList.remove('hidden');\n    };\n\n    galleryContainer.appendChild(imageItem);\n\n    setTimeout(() => {\n      imageItem.classList.add('fade-in');\n    }, index * 100);\n  });\n\n  if (!lightboxInstance) {\n    lightboxInstance = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n      overlayOpacity: 0.8,\n    });\n  } else {\n    lightboxInstance.refresh();\n  }\n}\n\nexport { renderImages };\n\n","import { fetchImagesFromAPI } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst elements = {\n  form: document.getElementById('searchForm'),\n  inputField: document.getElementById('searchInput'),\n};\n\nelements.form.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchQuery = elements.inputField.value.trim();\n\n  if (!searchQuery) {\n    return;\n  }\n\n  fetchImagesFromAPI(searchQuery)\n    .then(renderImages)\n    .catch(error => console.error(error))\n    .finally(() => {\n      elements.inputField.value = '';\n      elements.inputField.blur();\n    });\n});\n\n"],"names":["API_KEY","BASE_URL","REQUEST_PARAMS","handleError","message","iziToast","fetchImagesFromAPI","searchQuery","loadingIndicator","axios","response","lightboxInstance","renderImages","total","hits","galleryContainer","webformatURL","largeImageURL","tags","likes","views","comments","downloads","index","imageInfoHTML","title","value","imageItem","imgElement","SimpleLightbox","elements","event","error"],"mappings":"owBAIA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAiB,CACrB,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,MACd,EAEA,SAASG,EAAYC,EAAS,CAC5BC,EAAS,KAAK,CACZ,QAAAD,EACA,SAAU,WACV,QAAS,IACT,gBAAiB,UACjB,aAAc,UACd,QAAS,wBACT,cAAe,GACf,aAAc,GACd,SAAU,OACd,CAAG,CACH,CAEA,SAASE,EAAmBC,EAAa,CACvC,MAAMC,EAAmB,SAAS,eAAe,QAAQ,EACzD,OAAAA,EAAiB,MAAM,QAAU,OAE1BC,EACJ,IAAIR,EAAU,CACb,OAAQ,CAAE,GAAGC,EAAgB,EAAGK,CAAa,CACnD,CAAK,EACA,KAAKG,GAAYA,EAAS,IAAI,EAC9B,MAAM,IAAMP,EAAY,wBAAwB,CAAC,EACjD,QAAQ,IAAM,CACbK,EAAiB,MAAM,QAAU,MACvC,CAAK,CACL,CCrCA,IAAIG,EAAmB,KAEvB,SAASC,EAAa,CAAE,MAAAC,EAAO,KAAAC,GAAQ,CACrC,MAAMC,EAAmB,SAAS,eAAe,SAAS,EAG1D,GAFAA,EAAiB,UAAY,GAEzBF,IAAU,EAAG,CACfV,EAAY,0EAA0E,EACtF,MACD,CAEDW,EAAK,QAAQ,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIC,IAAU,CAQhG,MAAMC,EAPa,CACjB,CAAE,MAAO,QAAS,MAAOL,CAAO,EAChC,CAAE,MAAO,QAAS,MAAOC,CAAO,EAChC,CAAE,MAAO,WAAY,MAAOC,CAAU,EACtC,CAAE,MAAO,YAAa,MAAOC,CAAW,CAC9C,EAGO,IAAI,CAAC,CAAE,MAAAG,EAAO,MAAAC,CAAO,IAAK;AAAA;AAAA,qCAEID,CAAK;AAAA,qCACLC,CAAK;AAAA;AAAA,OAEnC,EACA,KAAK,EAAE,EAEJC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAU,IAAI,cAAc,EAEtCA,EAAU,UAAY;AAAA,iBACTV,CAAa;AAAA;AAAA;AAAA,mBAGXD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAMbM,CAAa;AAAA;AAAA,MAInB,MAAMI,EAAaD,EAAU,cAAc,gBAAgB,EAE3DC,EAAW,OAAS,IAAM,CACxBA,EAAW,UAAU,OAAO,QAAQ,CAC1C,EAEIb,EAAiB,YAAYY,CAAS,EAEtC,WAAW,IAAM,CACfA,EAAU,UAAU,IAAI,SAAS,CACvC,EAAOJ,EAAQ,GAAG,CAClB,CAAG,EAEIZ,EAOHA,EAAiB,QAAO,EANxBA,EAAmB,IAAIkB,EAAe,aAAc,CAClD,aAAc,MACd,aAAc,IACd,eAAgB,EACtB,CAAK,CAIL,CCrEA,MAAMC,EAAW,CACf,KAAM,SAAS,eAAe,YAAY,EAC1C,WAAY,SAAS,eAAe,aAAa,CACnD,EAEAA,EAAS,KAAK,iBAAiB,SAAUC,GAAS,CAChDA,EAAM,eAAc,EAEpB,MAAMxB,EAAcuB,EAAS,WAAW,MAAM,KAAI,EAE7CvB,GAILD,EAAmBC,CAAW,EAC3B,KAAKK,CAAY,EACjB,MAAMoB,GAAS,QAAQ,MAAMA,CAAK,CAAC,EACnC,QAAQ,IAAM,CACbF,EAAS,WAAW,MAAQ,GAC5BA,EAAS,WAAW,MAC1B,CAAK,CACL,CAAC"}